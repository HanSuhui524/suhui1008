'use strict';
const cores=require('kpi.core')
function filterKS(query){
    return cores.names.filter((name)=>{
        if(name.indexOf(query)>=0){return true;}
        return false;
    });
}

class KPISearch{
    constructor(){}
    ks(query){
        query=query+''
        query=query.trim().toLowerCase()
        let queries=[query]
        return queries.map((q)=>{
            var list=filterKS(q);
            if(list.length) { return list; }
            return null;
        }).filter((v)=>{
            if(v === null) return false;
            return true;
        });
    }
    discipline(query){
        query=query+''
        query=query.trim().toLowerCase()
        let names=cores.names.filter((name)=>{
            if(name.indexOf(query)>=0) return true;
            return false;
        })
        if(names.length){
            return names.map((name)=>{
                return cores.get(name);
            })
        }
        return [];
    }
}
module.exports=KPISearch;